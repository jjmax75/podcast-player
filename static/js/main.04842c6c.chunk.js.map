{"version":3,"sources":["components/search-form.js","components/results/item.js","utils/truncate-string.js","components/results/list.js","screens/search.js","components/player/index.js","screens/podcast.js","components/layout/footer.js","components/layout/header.js","components/layout/main.js","app.js","index.js"],"names":["SearchForm","handleKeyPress","useState","searchTerm","setSearchTerm","className","type","placeholder","value","onChange","e","target","onKeyPress","ResultItem","str","len","podcast","setSelectedPodcast","onClick","id","src","thumbnail","title_original","description_original","length","slice","class","publisher_original","explicit_content","Date","latest_pub_date_ms","toLocaleDateString","ResultList","podcasts","map","Search","setPodcasts","getPodcasts","a","preventDefault","options","headers","process","fetch","result","json","parsed","results","key","Player","interval","playing","setPlaying","progress","setProgress","player","useRef","checkProgress","setInterval","current","currentTime","audio_length_sec","ref","audio","title","description","dangerouslySetInnerHTML","__html","min","max","pause","clearInterval","play","Podcast","podcastDetails","setPodcastDetails","setPodcast","useEffect","fetchData","image","episodes","Footer","Header","Main","children","App","selectedPodcast","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.04842c6c.chunk.js","sourcesContent":["import './search-form.css';\n\nimport React, { useState } from 'react';\n\nexport const SearchForm = ({ handleKeyPress }) => {\n  const [searchTerm, setSearchTerm] = useState('');\n\n  return (\n    <form>\n      <input\n        className='search-box'\n        type='text'\n        placeholder='Search for a podcast'\n        value={searchTerm}\n        onChange={e => setSearchTerm(e.target.value)}\n        onKeyPress={e => handleKeyPress(e)}\n      />\n    </form>\n)};\n","import './item.css';\n\nimport React from 'react';\n\nimport { truncateString } from '../../utils/truncate-string';\n\nexport const ResultItem = ({ podcast, setSelectedPodcast }) => (\n    <li\n      className='result-item'\n      onClick={() => setSelectedPodcast(podcast.id)}\n      key={podcast.id}\n    >\n      <img className='podcast-thumbnail' src={podcast.thumbnail} />\n      <div className='podcast-details'>\n        <h3 className='podcast-title'>{podcast.title_original}</h3>\n        <div className='podcast-description'>\n          {truncateString(podcast.description_original, 250)}\n        </div>\n        <div class='podcast-meta'>\n          <span>Published by: {podcast.publisher_original} | </span>\n          {podcast.explicit_content && <span>Explicit | </span>}\n          <span>Last updated: {new Date(podcast.latest_pub_date_ms).toLocaleDateString()}</span>\n        </div>\n      </div>\n    </li>\n);\n","export const truncateString = (str, len) => {\n  if (str.length <= len) {\n    return str;\n  }\n\n  return str.slice(0, len - 3) + '...';\n}\n","import './list.css';\n\nimport React from 'react';\n\nimport { ResultItem } from './item';\n\nexport const ResultList = ({ podcasts, setSelectedPodcast }) => (\n  <ul className='result-list'>\n    { \n      podcasts.map(podcast => \n        <ResultItem key={podcast.id} podcast={podcast} setSelectedPodcast={setSelectedPodcast} />)\n    }\n  </ul>\n);\n","import './search.css';\n\nimport React, { useState } from 'react';\n\nimport { SearchForm } from '../components/search-form';\nimport { ResultList } from '../components/results/list';\n\nconst listenNotesApiUrl = 'https://listen-api.listennotes.com/api/v2';\n\nconst Search = ({ setSelectedPodcast }) => {\n  const [podcasts, setPodcasts] = useState([]);\n\n  const getPodcasts = async (e) => {\n    e.preventDefault();\n    const options = {\n      headers: {\n        'X-ListenAPI-Key': process.env.REACT_APP_LISTEN_NOTES_API_KEY,\n      }\n    };\n\n    const result = await fetch(`${listenNotesApiUrl}/search?q=${e.target.value}&sort_by_date=0&type=podcast`, options);\n    const parsed = await result.json();\n    \n    setPodcasts(parsed.results);\n  }\n\n  const handleKeyPress = e => {\n    if(e.key === 'Enter'){\n      e.preventDefault();\n      getPodcasts(e);\n    }\n  }\n\n  return (!podcasts.length\n    ? <>\n        <h3>Welcome!</h3>\n        <h1>Explore top podcasts</h1>\n        <SearchForm handleKeyPress={handleKeyPress} />\n      </>\n    : <>\n        <div className=\"info\">\n          <button onClick={() => setPodcasts([])}>Back</button>\n          <h1>Results ({podcasts.length})</h1>\n        </div>\n        <ResultList setSelectedPodcast={setSelectedPodcast} podcasts={podcasts} />\n      </>\n  ) \n}\n\nexport default Search;\n","import './player.css';\n\nimport React, { useRef, useState } from 'react';\n\nconst Player = ({ podcast }) => {\n  const [playing, setPlaying] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const player = useRef();\n  let interval;\n\n  const togglePlaying = () => {\n    setPlaying(() => {\n      if (playing) {\n        player.current.pause();\n        clearInterval(interval);\n      } else {\n        player.current.play();\n        interval = checkProgress();\n      }\n\n      return !playing;\n    })\n  }\n\n  const checkProgress = () => {\n    return setInterval(() => {\n      setProgress((player?.current?.currentTime / podcast?.audio_length_sec) * 100);\n    }, 1000);\n  }\n\n  return (\n      <div className='audio-player'>\n        <audio\n        ref={player}\n        src={podcast?.audio}\n      >\n          Your browser does not support the\n          <code>audio</code> element.\n      </audio>\n      <div className=\"podcast-details\">\n        <h3>{podcast?.title}</h3>\n        {podcast?.description && <div dangerouslySetInnerHTML={{__html: podcast.description}} />}\n      </div>\n      <div className=\"progress\">\n          <progress className=\"progress-bar\" value={progress} min=\"0\" max=\"100\" />\n        </div>\n      <div className=\"controls\">\n        <button className='shuffle-button' type=\"button\" onClick={() => player.current.currentTime -= 30.0}>\n          - 30 secs\n        </button>\n        <button className='play-button' type=\"button\" onClick={togglePlaying}>\n          {playing ? 'Pause' : 'Play'}\n        </button>\n        <button className='shuffle-button' type=\"button\" onClick={() => player.current.currentTime += 30.0}>\n          + 30 secs\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default Player;\n","import './podcast.css';\n\nimport React, { useEffect, useState } from 'react';\n\nimport Player from '../components/player';\n\nconst listenNotesApiUrl = 'https://listen-api.listennotes.com/api/v2';\n\nconst Podcast = ({ id, setSelectedPodcast }) => {\n  const [podcastDetails, setPodcastDetails] = useState({});\n  const [podcast, setPodcast] = useState();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const options = {\n        headers: {\n          'X-ListenAPI-Key': process.env.REACT_APP_LISTEN_NOTES_API_KEY,\n        }\n      };\n\n      const result = await fetch(`${listenNotesApiUrl}/podcasts/${id}`, options);\n      const parsed = await result.json();\n\n      setPodcastDetails(parsed);\n    }\n    \n    fetchData();\n  }, [id]);\n\n  const renderEpisodeList = () => (\n    podcastDetails.episodes.map((podcast) => (\n      <li key={podcast.id} className='podcast-list-item' onClick={() => setPodcast(podcast)}>{podcast.title}</li>\n    ))\n  )\n\n  return (\n    <>\n      <button className=\"back-button\" onClick={() => setSelectedPodcast(null)}>\n        Back\n      </button>\n      <div className='main'>\n        <img src={podcastDetails?.image} />\n        <Player podcast={podcast} />\n      </div>\n      { podcastDetails.episodes ?\n        <ul className='podcast-list'>\n          {renderEpisodeList()}\n        </ul>\n      :\n        <span>The podcast list is loading</span>\n      }\n    </>\n  )\n}\n\nexport default Podcast;\n","import './footer.css';\n\nimport React from 'react';\n\nexport const Footer = () => {\n  return (\n    <footer className='footer'><img src=\"./podcast-player/listen-notes.png\" /></footer>\n  );\n};\n","import './header.css';\n\nimport React from 'react';\n\nexport const Header = () => {\n  return (\n    <header className='header'>Seashell</header>\n  );\n};\n","import './main.css';\n\nimport React from 'react';\n\nexport const Main = ({ children }) => {\n  return (\n    <main className='main-content'>\n      { children }\n    </main>\n  );\n};\n","import React, {useState} from 'react';\n\nimport Search from './screens/search';\nimport Podcast from './screens/podcast';\nimport { Footer, Header, Main } from './components/layout';\n\nconst App = () => {\n  const [selectedPodcast, setSelectedPodcast] = useState();\n  return (\n    <>\n      <Header />\n      <Main>\n        { selectedPodcast\n          ? <Podcast id={selectedPodcast} setSelectedPodcast={setSelectedPodcast} />\n          : <Search setSelectedPodcast={setSelectedPodcast} />\n        }\n      </Main>\n      <Footer />\n    </>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './app';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}